import{e as m,j as e,M as n,r as p,T as i}from"../main.js";import{F as d}from"./fetch-Bb95O_Yn.js";import{L as h}from"./line-chart-Dr1l6EQO.js";import{A as g}from"./article-C177ch-M.js";import{S as l}from"./section-DaQOGCV6.js";import{T as u}from"./table-CDm8Uxam.js";const y=m.enhanceEndpoints({addTagTypes:["Reference"]}).injectEndpoints({endpoints:s=>({fetchReferenceStatistic:s.query({query:()=>"/profile/mainpage"}),fetchReferenceChartData:s.query({query:({frequency:r})=>`/profile/mainpage/chart_${r}`})})}),{useFetchReferenceStatisticQuery:j,useLazyFetchReferenceStatisticQuery:D,useFetchReferenceChartDataQuery:b,useLazyFetchReferenceChartDataQuery:T}=y,f=({frequency:s})=>e.jsx(d,{useQuery:b,args:{frequency:s},renderSuccess:r=>e.jsx(h,{data:r})}),x=""+new URL("dashboard-sprite.svg",import.meta.url).href,k=({className:s,data:r,statistic:a,...t})=>e.jsxs("li",{className:n("grid grid-cols-2 gap-y-3 rounded-2xl bg-[#2b2930] px-4 py-3 @container first:bg-violet-primary [&:nth-child(2)]:bg-violet-secondary",s),...t,children:[e.jsx("h2",{className:"col-span-2 row-start-3 text-sm/none @[15rem]:row-start-1 @[15rem]:text-lg/none",children:a.label}),e.jsx("svg",{width:"45",height:"45",children:e.jsx("use",{xlinkHref:`${x}#${a.icon}`})}),e.jsxs("span",{className:"col-span-2 mt-4 self-center text-2xl leading-none @[15rem]:col-span-1 @[15rem]:mt-0 @[15rem]:text-3xl",children:[r==null?void 0:r[a.key]," $"]})]}),N=({className:s,data:r,statisticList:a,...t})=>e.jsx("ul",{className:n("grid grid-cols-2 gap-4 lg:grid-cols-3 2xl:grid-cols-7",s),...t,children:a.map(c=>e.jsx(k,{data:r,statistic:c},c.id))}),_=({className:s,statistic:r,...a})=>e.jsxs("li",{className:n("grid grid-cols-2 gap-y-3 rounded-2xl bg-[#2b2930] px-4 py-3 @container first:bg-violet-primary [&:nth-child(2)]:bg-violet-secondary",s),...a,children:[e.jsx("h2",{className:"col-span-2 row-start-3 text-sm/none @[15rem]:row-start-1 @[15rem]:text-lg/none",children:r.label}),e.jsx("svg",{width:"45",height:"45",children:e.jsx("use",{xlinkHref:`${x}#${r.icon}`})}),e.jsx("span",{className:"col-span-2 mt-4 h-5 w-24 animate-pulse self-center rounded-full bg-white/70 text-2xl leading-none @[15rem]:col-span-1 @[15rem]:mt-0 @[15rem]:text-3xl"})]}),o=[{id:1,label:"Всего кликов",key:"all_click",icon:"pie_chart"},{id:2,label:"Регситраций",key:"register_count",icon:"bar_chart"},{id:3,label:"Депозиты",key:"deposit",icon:"fluent_money_model_2"},{id:4,label:"FTD's",key:"ftd_count",icon:"money_deposit"},{id:5,label:"Вывод",key:"ftd_sum",icon:"fluent_money_model_1"},{id:6,label:"P/L трейдеров",key:"witdraw_ref",icon:"scan_focus"},{id:7,label:"Оборот",key:"oborot",icon:"money_exchange"}],v=()=>e.jsx(l,{children:e.jsx(d,{useQuery:j,args:void 0,renderSuccess:s=>e.jsx(N,{data:s,statisticList:o}),loadingFallback:e.jsx("ul",{className:"grid grid-cols-2 gap-4 lg:grid-cols-3 2xl:grid-cols-7",children:o.map(s=>e.jsx(_,{statistic:s},s.id))})})}),w=[{id:"#709247",url:"broker-qx.pro/sign-up/?lid=709247",type:"Ссылка на регистрацию",program:"Доля дохода",date:"26.03.2024"},{id:"#709243",url:"broker-qx.pro/sign-up/?lid=709247",type:"Ссылка на регистрацию",program:"Доля дохода",date:"26.03.2024"}],A=()=>{const[s,r]=p.useState("monthly"),a=t=>{r(t)};return e.jsxs(g,{variant:"block",children:[e.jsx(v,{}),e.jsx(l,{children:e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 font-secondary",children:[e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsx(i,{as:"h2",className:"text-lg-xl-xs-lg",children:"График активностей ссылки"}),e.jsxs("ul",{className:"hidden items-center gap-x-6 lg:flex",children:[e.jsxs("li",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"size-7 rounded-md bg-[#FF8551]"}),e.jsx("span",{children:"Клики"})]}),e.jsxs("li",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"size-7 rounded-md bg-[#009A0F]"}),e.jsx("span",{children:"Регистрации"})]}),e.jsxs("li",{className:"flex items-center gap-x-3",children:[e.jsx("span",{className:"size-7 rounded-md bg-[#652CDE]"}),e.jsx("span",{children:"FTD"})]})]})]}),e.jsxs("div",{role:"radiogroup","aria-label":"Периодичность активности ссылки",className:"flex items-center gap-x-3 justify-self-center",children:[e.jsx("button",{type:"button",role:"radio","aria-checked":s==="monthly",tabIndex:-1,onClick:()=>a("monthly"),className:"rounded-md px-5 py-2.5 text-base-lg-xs-lg aria-[checked=false]:bg-[#2b2930] aria-[checked=true]:bg-violet-primary",children:"Месяц"}),e.jsx("button",{type:"button",role:"radio","aria-checked":s==="weekly",tabIndex:-1,onClick:()=>a("weekly"),className:"rounded-md px-5 py-2.5 text-base-lg-xs-lg aria-[checked=false]:bg-[#2b2930] aria-[checked=true]:bg-violet-primary",children:"Неделя"}),e.jsx("button",{type:"button",role:"radio","aria-checked":s==="daily",tabIndex:-1,onClick:()=>a("daily"),className:"rounded-md px-5 py-2.5 text-base-lg-xs-lg aria-[checked=false]:bg-[#2b2930] aria-[checked=true]:bg-violet-primary",children:"День"})]}),e.jsx(f,{frequency:s})]})}),e.jsxs(l,{children:[e.jsx(i,{as:"h2",className:"text-center text-lg-xl-xs-lg",children:"Ссылки на приглашение"}),e.jsx("div",{className:"scrollbar",children:e.jsx(u,{uniqueKey:"id",rowHeaderKey:"id",headers:["id","ссылка","тип","программа","дата"],data:w,renderColumns:e.jsxs("colgroup",{children:[e.jsx("col",{}),e.jsx("col",{className:"text-lg text-red-500"}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{})]}),components:{}})})]})]})};export{A as DashboardPage};
